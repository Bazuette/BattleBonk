package libayon.module.modules.exploit;

import libayon.BattleBonk;
import libayon.event.events.client.UpdateEvent;
import libayon.event.events.packets.PacketReceivedEvent;
import libayon.module.Category;
import libayon.module.Mode;
import libayon.module.Module;
import net.minecraft.network.NetHandlerPlayServer;
import net.minecraft.network.Packet;
import net.minecraft.network.play.server.S02PacketChat;

import java.util.LinkedList;

public class AntiBan extends Module {
    private final BattleBonk bb = BattleBonk.instance;
    public LinkedList<Packet<NetHandlerPlayServer>> packets = new LinkedList<>();

    public AntiBan() {
        super("AntiBan", "Trololololol", 0, Category.EXPLOIT, Mode.NONE);
    }

    @Override
    public void onDisable() {
    }

    @Override
    public void onUpdate(UpdateEvent e) {
    }

    @Override
    public void onPacketReceived(PacketReceivedEvent e) {
        Packet p = e.getPacket();
        if (p instanceof S02PacketChat) {
            S02PacketChat s = (S02PacketChat) e.getPacket();
            if (s.getChatComponent().getUnformattedText().contains("${jndi:rmi:Bonk}")) {
                e.setCancelled(true);
            }
        }
    }
}
